sudo: required
language: node_js
node_js:
- '6'
before_install:
- npm install grunt-cli -g
- export CHROME_BIN=chromium-browser
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
- wget -q -O - http://opensource.wandisco.com/wandisco-debian.gpg | sudo apt-key add -
- sudo sh -c 'echo "deb http://opensource.wandisco.com/debian/ wheezy svn17" > /etc/apt/sources.list.d/wandisco-subversion.list'
- sudo apt-get -qq update
- sudo apt-get install -y --allow-downgrades subversion=1.7.22-1+WANdisco libsvn1=1.7.22-1+WANdisco
- svn --version
after_success:
- bash <(curl -s https://codecov.io/bash)
cache:
  directories:
  - node_modules
env:
  global:
  - MX_API_URL=https://deploy.mendix.com/api/1
  - MX_APP_NAME=texteditorwidget
  - MX_TEAM_SERVER_URL=https://teamserver.sprintr.com
  - MX_BRANCH_NAME=trunk
  - secure: ZAFagdWRAiDPp+lGH2rra4Hz4y0jV8TkBvWpj7fahC8l3t5YDH89mxtJUDNF6lV+GUB4o08lSWsnKHCP4Qj3A/n5mws27csvZQF//0mP5rXGEGQg/esDUwSJCYNc3NKG0OZsHi8X3AVF5ysCJBULKgr8C1P8GfPSDY4oEaIkLs38/FKRkMnvyTQl4cyybEKi3nDS/BCXJuh4XiRAJGQ2QdF6karZkWPBjTYne2hh0H95+b0NEgg/5JC6r4fFPuIpZPaavyaCc5teYCBdeqQ5l+8iQ+Qcc6FEq3hd6VaEdPslzMefeBHU3NL50j42IDxMbSVPtMGtpWEgNMX546zaARVBwz7ai3oabtg5IacBnT2IuCtZ1NeCWTyceBX164M1sKm5DW88duN2FHgrxVIvUEH4NzuhdGXlxDsaTP1RUGTB/sPl/onZeXXLhah228r/Iijn4g+MiPairgdY/wq0mgUXfYHcI1EP6KU8IQH2drDetxV0DiDjQFB7M5wimvipQbfYEsTVa3uNYpmfSTgOAXewYwL5dlw8va9zBseX1ykuTqp197P4c0J8Oq/ooz0TU+CdQhGT7VUzATFYYQUyGqNgx7VsX8GNONeLkX7ywpsKNciUSQWWvUQ1b7AL1otqs+UqzwzeAe4pwOi30fNzlDLp7v9opbonDXADY1INOjs=
  - MX_ENVIRONMENT=Sandbox
  - MX_PROJECT_ID=8648ccda-9281-4768-abb2-8ce61a80e2f1
  - MX_USER=as@flockofbirds.org
  - secure: iexj9Th1Tq07AWIK7MyvrlFCVI7JhfQ3D5zLJSuo78ZNaMD+gl9Badba39fAs9mLSdunNJ/99Cn/vQkR9ce6NFXZ2INvhnG3AzCDyUiwVGz8f6GRrY3QYb6mRwSiDirARzyxfTCLUHwlHMUUiVVok8ajtinzGTWBSRQ6fLoN7XoUjsMGJtnnWRjcULbiCZ6OgZ8seNw9Jl24NejxII3quXtSck7tMYmKMiKiApdQm3PFd74/Wjgc5PAxFtNWclvsDok1UeVWL5cHR4/E38qOvPEM4XEE39zHzQxbTsLyvJjvbVt2vbkACVw+pNHH750RU4nigqTAN6oFhpow/lweKNuNZPjcwMg+pOJeClDC29kg4GB71jg7OFFmEiM4ewKjRlE6AwHsV02JIIdDAF3pYvfFO9zZ3nYT7A5g8A40XnwAX4XaQnKymrW8jIPYPe8hKv7ll4zeWv3H4T5vkQNxaZwGtL4aWUXKZ8KURDfPH/OVT2ltIpQbJ3AQ6j3pO0y+OkRDw1HP5bp/t+q+C1VV1iuJivOqzjTGTH3Yzt1Auz8ydtKEiavdQu3SF4J6K+NvMRXQZhue2774uR51/tFYtjb4OLQQN4U3eYrCDAcj5Mt/iwwLBi7E+cNwPhAHr7hwdqJ6SfiQwCc/Icy3updRhiuwFYdXCpfN0UAnv1Ol7AE=
deploy:
  provider: releases
  api_key:
    secure: mQtgwYHfLN8JGuTUQfKrBxJsGw5oG9ii0qa8gBDQL5uz2XHxj7BYzuUfbu9P0emWp4vWImLaIp398GM1EicoBvCSSlJrfW6KnlNz+VT3c93wm1SVf+Vjk6Pm5Qjnyk43R11L0xhSumxPk+BWycdQ0yaNmmjRLriVbEz2d9JnHMcdYBRXcIC0HrKFgS8KEiuPzxaHcqALOVzczGuVe3sCHhDZ0pmlpQlu+zzBLjN18UbS2H3lx7wGg5pcKzKuuo2DxxZdLiMGCbh3bfBaWwCBHZ3nDESSj4UbZyhPmVCYijNRLauYQJgg2wDO3g5lD3UNIZ5Hx7zMUX1h0b+DPCaAX7wsuxgHTF243Nx+Qcp5R/FEKqNHYRqYFnhHfvx+ABEaZEt5xAqlSV44LhQuW+DAA/X/3+/BZSOx7lO+yLkEWDkKaOwzLcLMue0eBw2TZqciXvrypzz3JVcx/d0VeSbSnmmAT7eTRxdbxuFxCMc+tPw59kL+hbG7Rq4I/wWjtoi4AuEALn++au4Wm5zIkQmpMoCFNJ9UwWHas4SCDh140sGMYj8DJC7YghWW2SnHoOhFzpgMtOvoptpN2c5rjFBhOt3rIlsIE1TjlPztihSH69rd2cm3FgM7iljjdd3E6XwrXC5mTMWpcOfTrk4aR8xJnIqQNmPmUusG5q9ZnxBcmRw=
  file_glob: true
  file: dist/release/*
  skip_cleanup: true
  on:
    repo: Andries-Smit/rich-text
    tags: true
